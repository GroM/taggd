<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Taggd</title>

	<link rel="stylesheet" href="assets/layout.css">
	<link rel="stylesheet" href="../../dist/taggd.css">
	<link rel="stylesheet" href="themes/taggd-fa.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
	<style>
		html, body { height: 125%; }
	</style>
</head>
<body>

	<main class="container-fluid">
		<div class="part-image">
			<img src="../assets/aw-1.jpg" alt="" id="image">
		</div>
		<div id="panel" class="part-panel">
			<div class="commands">
				<button id="btn-default">Domy≈õlne</button>
				<button id="btn-generate-output">Get tags</button>
				<button id="btn-load">Wczytaj</button>
				<button id="btn-save">Zapisz</button>
				<button id="btn-import">Importuj</button>
				<label><input type="checkbox" id="btn-editor" /> Edytor</label>
			</div>
			<textarea id="data"></textarea>
			<pre id="output"></pre>
		</div>
	</main>

	<script src="../../dist/taggd.js"></script>
	<script src="../functions.js"></script>
	<script>
		var image = document.getElementById('image');
		Taggd.Tag.LABEL_BUTTON_SAVE = '<i class="fas fa-2x fa-plus-square"></i>';
		Taggd.Tag.LABEL_BUTTON_DELETE = '<i class="fas fa-2x fa-minus-square"></i>';
		var taggd = new Taggd(image);
		var canSave = storageAvailable('localStorage');
		if(canSave)
		{
			document.getElementById('panel').classList.add('canSave');
		}



		var btnGenerateOutput = document.getElementById('btn-generate-output');
		var output = document.getElementById('output');
		var btnEditor = document.getElementById('btn-editor');
		var btnDefault = document.getElementById('btn-default');
		btnEditor.addEventListener('change', function(){
			taggd.enableEditorMode(btnEditor.checked);
		});
		btnGenerateOutput.addEventListener('click', function () {
			output.innerHTML = JSON.stringify(taggd.getTags(), null, 2);
		});
		btnDefault.addEventListener('click', function(){
			taggd.importTags([
				{
					"position": {
						"x": 0.5479849999999999,
						"y": 0.265137
					},
					"text": "Kurtka",
				},
				{
					"position": {
						"x": 0.605128,
						"y": 0.49072299999999996
					},
					"text": "Jeansy",
				},
				{
					"position": {
						"x": 0.298168,
						"y": 0.503418
					},
					"text": "Torebka",
				},
				{
					"position": {
						"x": 0.659341,
						"y": 0.47168
					},
					"text": "Zegarek",
				},
				{
					"position": {
						"x": 0.44981699999999997,
						"y": 0.9189449999999999
					},
					"text": "Szpilki",
				}
			], true);
		});

	</script>

</body>
</html>
