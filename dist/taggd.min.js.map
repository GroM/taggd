{"version":3,"sources":["taggd.js"],"names":["f","exports","module","define","amd","window","global","self","this","Taggd","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","arr","Array","isArray","2","ReferenceError","3","instance","Constructor","TypeError","4","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","5","superPropBase","_get","property","receiver","Reflect","get","base","desc","getOwnPropertyDescriptor","value","./getPrototypeOf","./superPropBase","6","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","7","subClass","superClass","create","constructor","./setPrototypeOf","8","obj","__esModule","default","9","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","err","10","11","_typeof","assertThisInitialized","../helpers/typeof","./assertThisInitialized","12","_setPrototypeOf","13","arrayWithHoles","iterableToArrayLimit","nonIterableRest","./arrayWithHoles","./iterableToArrayLimit","./nonIterableRest","14","object","hasOwnProperty","15","_typeof2","16","el","getBoundingClientRect","x","y","offsetLeft","scrollLeft","offsetTop","scrollTop","offsetParent","left","top","17","pageYOffset","document","documentElement","clientHeight","body","18","_interopRequireDefault","_slicedToArray2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_assertThisInitialized2","_getPrototypeOf2","_get2","_inherits2","EventEmitter","ObjectIs","TypeErrorMessage","Tag","_EventEmitter","position","text","_this","buttonAttributes","arguments","popupAttributes","ofType","getObjectMessage","concat","wrapperElement","createElement","classList","add","buttonElement","popupElement","appendChild","isControlsEnabled","inputLabelElement","buttonSaveElement","buttonDeleteElement","buttonSaveElementClickHandler","setText","buttonDeleteElementClickHandler","emit","setButtonAttributes","setPopupAttributes","setPosition","hide","eventName","handler","style","display","getMessage","innerHTML","number","getFloatMessage","positionStyle","getPositionStyle","attributes","setElementAttributes","LABEL_BUTTON_SAVE","LABEL_BUTTON_DELETE","addEventListener","getAttributes","rawAttributes","forEach","attribute","name","parseFloat","element","entries","_attribute","attributeName","attributeValue","getAttribute","classValue","setAttribute","LABEL_NEW_TAG","../util/event-emitter","../util/object-is","../util/type-error-message","@babel/runtime/helpers/assertThisInitialized","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass","@babel/runtime/helpers/get","@babel/runtime/helpers/getPrototypeOf","@babel/runtime/helpers/inherits","@babel/runtime/helpers/interopRequireDefault","@babel/runtime/helpers/possibleConstructorReturn","@babel/runtime/helpers/slicedToArray","19","getElementOffset","getScrollTop","image","options","data","Element","wrapper","parentElement","insertBefore","removeChild","tags","imageClickHandler","offset","pageX","width","pageY","height","tag","enableControls","addTag","setOptions","setTags","assign","DEFAULT_OPTIONS","_this2","ofInstance","getTagMessage","isTargetButton","clearTimeout","hideTimeout","isCanceled","show","isHidden","setTimeout","hideDelay","once","tagIndex","indexOf","deleteTag","onAnything","_len","args","_key","apply","index","Number","isInteger","getIntegerMessage","splice","deleteTags","addTags","tagsData","_this3","getArrayMessage","createFromObject","_this4","callback","getFunctionMessage","map","getTags","removeEventListener","disableControls","./Tag","scrolltop","20","_Tag","_Taggd","./classes/Tag","./classes/Taggd","21","handlers","on","handlerIndex","off","eventHandler","returnValue","22","type","function","isNaN","@babel/runtime/helpers/typeof","23","expectedType","getTypeErrorMessage","message"],"mappings":"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","file":"taggd.min.js","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Taggd = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n},{}],2:[function(require,module,exports){\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n},{}],3:[function(require,module,exports){\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n},{}],4:[function(require,module,exports){\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n},{}],5:[function(require,module,exports){\nvar getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\n},{\"./getPrototypeOf\":6,\"./superPropBase\":14}],6:[function(require,module,exports){\nfunction _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n},{}],7:[function(require,module,exports){\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n},{\"./setPrototypeOf\":12}],8:[function(require,module,exports){\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\n},{}],9:[function(require,module,exports){\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n},{}],10:[function(require,module,exports){\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n},{}],11:[function(require,module,exports){\nvar _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n},{\"../helpers/typeof\":15,\"./assertThisInitialized\":2}],12:[function(require,module,exports){\nfunction _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n},{}],13:[function(require,module,exports){\nvar arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n},{\"./arrayWithHoles\":1,\"./iterableToArrayLimit\":9,\"./nonIterableRest\":10}],14:[function(require,module,exports){\nvar getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\n},{\"./getPrototypeOf\":6}],15:[function(require,module,exports){\nfunction _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n},{}],16:[function(require,module,exports){\n// http://stackoverflow.com/questions/442404/dynamically-retrieve-the-position-x-y-of-an-html-element\nmodule.exports = function(el) {\n  if (el.getBoundingClientRect) {\n      return el.getBoundingClientRect();\n  }\n  else {\n    var x = 0, y = 0;\n    do {\n        x += el.offsetLeft - el.scrollLeft;\n        y += el.offsetTop - el.scrollTop;\n    } \n    while (el = el.offsetParent);\n\n    return { \"left\": x, \"top\": y }\n  }\n}\n},{}],17:[function(require,module,exports){\n\n/**\n * get the window's scrolltop.\n * \n * @return {Number}\n */\n\nmodule.exports = function(){\n  if (window.pageYOffset) return window.pageYOffset;\n  return document.documentElement.clientHeight\n    ? document.documentElement.scrollTop\n    : document.body.scrollTop;\n};\n\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar EventEmitter = require('../util/event-emitter');\n\nvar ObjectIs = require('../util/object-is');\n\nvar TypeErrorMessage = require('../util/type-error-message');\n\nvar Tag =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  (0, _inherits2[\"default\"])(Tag, _EventEmitter);\n\n  /**\n   * Create a new Tag instance\n   * @param {{ x: Number, y: Number }} position - The tag’s coordinates\n   * @param {String|Function} text - The tag’s content\n   * @param {Object} [buttonAttributes = {}] - The button’s attributes\n   * @param {Object} [popupAttributes = {}] - The popup’s attributes\n   */\n  function Tag(position, text) {\n    var _this;\n\n    var buttonAttributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var popupAttributes = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    (0, _classCallCheck2[\"default\"])(this, Tag);\n\n    if (!ObjectIs.ofType(position, 'object') || Array.isArray(position)) {\n      throw new TypeError(TypeErrorMessage.getObjectMessage(position));\n    } else if (!('x' in position) || !('y' in position)) {\n      throw new Error(\"\".concat(position, \" should have x and y property\"));\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Tag).call(this));\n    _this.wrapperElement = document.createElement('div');\n\n    _this.wrapperElement.classList.add('taggd__wrapper');\n\n    _this.buttonElement = document.createElement('button');\n\n    _this.buttonElement.classList.add('taggd__button');\n\n    _this.popupElement = document.createElement('span');\n\n    _this.popupElement.classList.add('taggd__popup');\n\n    _this.wrapperElement.appendChild(_this.buttonElement);\n\n    _this.wrapperElement.appendChild(_this.popupElement);\n\n    _this.isControlsEnabled = false;\n    _this.inputLabelElement = undefined;\n    _this.buttonSaveElement = undefined;\n    _this.buttonDeleteElement = undefined;\n\n    _this.buttonSaveElementClickHandler = function () {\n      return _this.setText(_this.inputLabelElement.value);\n    };\n\n    _this.buttonDeleteElementClickHandler = function () {\n      _this.emit('taggd.tag.delete', (0, _assertThisInitialized2[\"default\"])(_this));\n    };\n\n    _this.text = undefined;\n\n    _this.setButtonAttributes(buttonAttributes);\n\n    _this.setPopupAttributes(popupAttributes);\n\n    _this.setPosition(position.x, position.y);\n\n    _this.setText(text);\n\n    _this.hide();\n\n    return _this;\n  }\n  /**\n   * Subscribe to an event.\n   * @param {String} eventName - The event to subscribe to.\n   * @param {Function} handler - The handler to execute.\n   * @return {Taggd} Current Taggd instance\n   */\n\n\n  (0, _createClass2[\"default\"])(Tag, [{\n    key: \"on\",\n    value: function on(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Tag.prototype), \"on\", this).call(this, eventName, handler);\n    }\n    /**\n     * Unsubscribe from an event.\n     * @param {String} eventName - The event to unsubscribe from.\n     * @param {Function} handler - The handler that was used to subscribe.\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Tag.prototype), \"off\", this).call(this, eventName, handler);\n    }\n    /**\n     * Subscribe to an event and unsubscribe once triggered.\n     * @param {String} eventName - The event to subscribe to.\n     * @param {Function} handler - The handler to execute.\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Tag.prototype), \"once\", this).call(this, eventName, handler);\n    }\n    /**\n     * Test whether the tag is hidden or not\n     * @return {Boolean} A boolean indicating the tag’s state\n     */\n\n  }, {\n    key: \"isHidden\",\n    value: function isHidden() {\n      return this.popupElement.style.display === 'none';\n    }\n    /**\n     * Show the tag\n     * @return {Taggd.Tag} Current Tag\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      var isCanceled = !this.emit('taggd.tag.show', this);\n\n      if (!isCanceled) {\n        this.popupElement.style.display = '';\n        this.emit('taggd.tag.shown', this);\n      }\n\n      return this;\n    }\n    /**\n     * Hide the tag\n     * @return {Taggd.Tag} Current Tag\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var isCanceled = !this.emit('taggd.tag.hide', this);\n\n      if (!isCanceled) {\n        this.popupElement.style.display = 'none';\n        this.emit('taggd.tag.hidden', this);\n      }\n\n      return this;\n    }\n    /**\n     * Set the tag’s text\n     * @param {String|Function} text - The tag’s content\n     * @return {Taggd.Tag} Current Tag\n     */\n\n  }, {\n    key: \"setText\",\n    value: function setText(text) {\n      if (!ObjectIs.ofType(text, 'string') && !ObjectIs[\"function\"](text)) {\n        throw new TypeError(TypeErrorMessage.getMessage(text, 'a string or a function'));\n      }\n\n      var isCanceled = !this.emit('taggd.tag.change', this);\n\n      if (!isCanceled) {\n        if (ObjectIs[\"function\"](text)) {\n          this.text = text(this);\n        } else {\n          this.text = text;\n        }\n\n        if (!this.isControlsEnabled) {\n          this.popupElement.innerHTML = this.text;\n        } else {\n          this.inputLabelElement.value = this.text;\n        }\n\n        this.emit('taggd.tag.changed', this);\n      }\n\n      return this;\n    }\n    /**\n     * Set the tag’s position\n     * @param {Number} x - The tag’s x-coordinate\n     * @param {Number} y - The tag’s y-coordinate\n     * @return {Taggd.Tag} Current Tag\n     */\n\n  }, {\n    key: \"setPosition\",\n    value: function setPosition(x, y) {\n      if (!ObjectIs.number(x)) {\n        throw new TypeError(TypeErrorMessage.getFloatMessage(x));\n      }\n\n      if (!ObjectIs.number(y)) {\n        throw new TypeError(TypeErrorMessage.getFloatMessage(y));\n      }\n\n      var isCanceled = !this.emit('taggd.tag.change', this);\n\n      if (!isCanceled) {\n        var positionStyle = Tag.getPositionStyle(x, y);\n        this.wrapperElement.style.left = positionStyle.left;\n        this.wrapperElement.style.top = positionStyle.top;\n        this.emit('taggd.tag.changed', this);\n      }\n\n      return this;\n    }\n    /**\n     * Set the tag button’s attributes\n     * @param {Object} atttributes = {} - The attributes to set\n     * @return {Taggd.Tag} Current tag\n     */\n\n  }, {\n    key: \"setButtonAttributes\",\n    value: function setButtonAttributes() {\n      var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!ObjectIs.ofType(attributes, 'object') || Array.isArray(attributes)) {\n        throw new TypeError(TypeErrorMessage.getObjectMessage(attributes));\n      }\n\n      var isCanceled = !this.emit('taggd.tag.change', this);\n\n      if (!isCanceled) {\n        Tag.setElementAttributes(this.buttonElement, attributes);\n        this.emit('taggd.tag.changed', this);\n      }\n\n      return this;\n    }\n    /**\n     * Set the tag popup’s attributes\n     * @param {Object} atttributes = {} - The attributes to set\n     * @return {Taggd.Tag} Current tag\n     */\n\n  }, {\n    key: \"setPopupAttributes\",\n    value: function setPopupAttributes() {\n      var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      if (!ObjectIs.ofType(attributes, 'object') || Array.isArray(attributes)) {\n        throw new TypeError(TypeErrorMessage.getObjectMessage(attributes));\n      }\n\n      var isCanceled = !this.emit('taggd.tag.change', this);\n\n      if (!isCanceled) {\n        Tag.setElementAttributes(this.popupElement, attributes);\n        this.emit('taggd.tag.changed', this);\n      }\n\n      return this;\n    }\n    /**\n     * Enables the tag controls\n     * @return {Taggd.Tag} Current tag\n     */\n\n  }, {\n    key: \"enableControls\",\n    value: function enableControls() {\n      this.isControlsEnabled = true;\n      this.inputLabelElement = document.createElement('input');\n      this.buttonSaveElement = document.createElement('button');\n      this.buttonDeleteElement = document.createElement('button');\n      this.inputLabelElement.classList.add('taggd__editor-input');\n      this.buttonSaveElement.classList.add('taggd__editor-button', 'taggd__editor-button--save');\n      this.buttonDeleteElement.classList.add('taggd__editor-button', 'taggd__editor-button--delete');\n      this.buttonSaveElement.innerHTML = Tag.LABEL_BUTTON_SAVE;\n      this.buttonDeleteElement.innerHTML = Tag.LABEL_BUTTON_DELETE;\n      this.buttonSaveElement.addEventListener('click', this.buttonSaveElementClickHandler);\n      this.buttonDeleteElement.addEventListener('click', this.buttonDeleteElementClickHandler);\n      this.popupElement.innerHTML = '';\n      this.popupElement.appendChild(this.inputLabelElement);\n      this.popupElement.appendChild(this.buttonSaveElement);\n      this.popupElement.appendChild(this.buttonDeleteElement); // Set input content\n\n      this.setText(this.text);\n      return this;\n    }\n    /**\n     * Disabled the tag controls\n     * @return {Taggd.Tag} Current tag\n     */\n\n  }, {\n    key: \"disableControls\",\n    value: function disableControls() {\n      this.isControlsEnabled = false;\n      this.inputLabelElement = undefined;\n      this.buttonSaveElement = undefined;\n      this.buttonDeleteElement = undefined; // Remove elements and set set content\n\n      this.setText(this.text);\n      return this;\n    }\n    /**\n     * Get a Taggd.createFromObject-compatible object\n     * @return {Object} A object for JSON\n     */\n\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      function getAttributes(rawAttributes) {\n        var attributes = {};\n        Array.prototype.forEach.call(rawAttributes, function (attribute) {\n          if (attribute.name === 'class' || attribute.name === 'style') {\n            return;\n          }\n\n          attributes[attribute.name] = attribute.value;\n        });\n        return attributes;\n      }\n\n      return {\n        position: {\n          x: parseFloat(this.wrapperElement.style.left) / 100,\n          y: parseFloat(this.wrapperElement.style.top) / 100\n        },\n        text: this.text,\n        buttonAttributes: getAttributes(this.buttonElement.attributes),\n        popupAttributes: getAttributes(this.popupElement.attributes)\n      };\n    }\n    /**\n     * Set element attributes\n     * @param {DomNode} element - The element the attributes should be set to\n     * @param {Object} [attributes = {}] - A map of attributes to set\n     * @return {DomNode} The original element\n     */\n\n  }], [{\n    key: \"setElementAttributes\",\n    value: function setElementAttributes(element) {\n      var attributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!ObjectIs.ofType(attributes, 'object') || Array.isArray(attributes)) {\n        throw new TypeError(TypeErrorMessage.getObjectMessage(attributes));\n      }\n\n      Object.entries(attributes).forEach(function (attribute) {\n        var _attribute = (0, _slicedToArray2[\"default\"])(attribute, 2),\n            attributeName = _attribute[0],\n            attributeValue = _attribute[1];\n\n        if (attributeName === 'class' && element.getAttribute(attributeName)) {\n          var classValue = \"\".concat(element.getAttribute(attributeName), \" \").concat(attributeValue);\n          element.setAttribute(attributeName, classValue);\n          return;\n        }\n\n        element.setAttribute(attributeName, attributeValue);\n      });\n      return element;\n    }\n    /**\n     * Get the position style\n     * @param {Number} x - The tag’s x-coordinate\n     * @param {Number} y - The tag’s y-coordinate\n     * @return {Object} The style\n     */\n\n  }, {\n    key: \"getPositionStyle\",\n    value: function getPositionStyle(x, y) {\n      if (!ObjectIs.number(x)) {\n        throw new TypeError(TypeErrorMessage.getFloatMessage(x));\n      }\n\n      if (!ObjectIs.number(y)) {\n        throw new TypeError(TypeErrorMessage.getFloatMessage(y));\n      }\n\n      return {\n        left: \"\".concat(x * 100, \"%\"),\n        top: \"\".concat(y * 100, \"%\")\n      };\n    }\n    /**\n     * Create a tag from object\n     * @param {Object} object - The object containing all information\n     * @return {Tag} The created Tag instance\n     */\n\n  }, {\n    key: \"createFromObject\",\n    value: function createFromObject(object) {\n      return new Tag(object.position, object.text, object.buttonAttributes, object.popupAttributes);\n    }\n  }]);\n  return Tag;\n}(EventEmitter);\n/**\n * Label for a new tag\n * @const\n * @type {String}\n * @ignore\n */\n\n\nTag.LABEL_NEW_TAG = 'New tag';\n/**\n * Label for save button\n * @const\n * @type {String}\n * @ignore\n */\n\nTag.LABEL_BUTTON_SAVE = 'save';\n/**\n * Label for delete button\n * @const\n * @type {String}\n */\n\nTag.LABEL_BUTTON_DELETE = 'delete';\nmodule.exports = Tag;\n\n},{\"../util/event-emitter\":21,\"../util/object-is\":22,\"../util/type-error-message\":23,\"@babel/runtime/helpers/assertThisInitialized\":2,\"@babel/runtime/helpers/classCallCheck\":3,\"@babel/runtime/helpers/createClass\":4,\"@babel/runtime/helpers/get\":5,\"@babel/runtime/helpers/getPrototypeOf\":6,\"@babel/runtime/helpers/inherits\":7,\"@babel/runtime/helpers/interopRequireDefault\":8,\"@babel/runtime/helpers/possibleConstructorReturn\":11,\"@babel/runtime/helpers/slicedToArray\":13}],19:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _get2 = _interopRequireDefault(require(\"@babel/runtime/helpers/get\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar getElementOffset = require('offset');\n\nvar getScrollTop = require('scrolltop');\n\nvar Tag = require('./Tag');\n\nvar EventEmitter = require('../util/event-emitter');\n\nvar ObjectIs = require('../util/object-is');\n\nvar TypeErrorMessage = require('../util/type-error-message');\n\nvar Taggd =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  (0, _inherits2[\"default\"])(Taggd, _EventEmitter);\n\n  /**\n   * Create a new taggd instance\n   * @param {HTMLElement} image - The image to wrap\n   * @param {Object} [options = {}] - The [options]{@link https://doclets.io/timseverien/taggd/master/options}\n   * @param {Array} [data = []] - The [tags]{@link https://timseverien.github.io/taggd/v3/generator}\n   */\n  function Taggd(image) {\n    var _this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    (0, _classCallCheck2[\"default\"])(this, Taggd);\n\n    if (!(image instanceof Element)) {\n      throw new TypeError(TypeErrorMessage.getMessage(image, Element));\n    }\n\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Taggd).call(this));\n    _this.wrapper = document.createElement('div');\n\n    _this.wrapper.classList.add('taggd');\n\n    image.classList.add('taggd__image');\n    image.parentElement.insertBefore(_this.wrapper, image);\n    image.parentElement.removeChild(image);\n\n    _this.wrapper.appendChild(image);\n\n    _this.image = image;\n    _this.options = {};\n    _this.tags = [];\n\n    _this.imageClickHandler = function (e) {\n      var scrollTop = getScrollTop();\n      var offset = getElementOffset(_this.image);\n      var position = {\n        x: (e.pageX - offset.left) / _this.image.width,\n        y: (e.pageY - offset.top - scrollTop) / _this.image.height\n      };\n      var tag = new Tag(position, Tag.LABEL_NEW_TAG);\n      tag.enableControls();\n\n      _this.addTag(tag);\n    };\n\n    _this.setOptions(options);\n\n    _this.setTags(data);\n\n    return _this;\n  }\n  /**\n   * Subscribe to an event.\n   * @param {String} eventName - The event to subscribe to.\n   * @param {Function} handler - The handler to execute.\n   * @return {Taggd} Current Taggd instance\n   */\n\n\n  (0, _createClass2[\"default\"])(Taggd, [{\n    key: \"on\",\n    value: function on(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Taggd.prototype), \"on\", this).call(this, eventName, handler);\n    }\n    /**\n     * Unsubscribe from an event.\n     * @param {String} eventName - The event to unsubscribe from.\n     * @param {Function} handler - The handler that was used to subscribe.\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Taggd.prototype), \"off\", this).call(this, eventName, handler);\n    }\n    /**\n     * Subscribe to an event and unsubscribe once triggered.\n     * @param {String} eventName - The event to subscribe to.\n     * @param {Function} handler - The handler to execute.\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"once\",\n    value: function once(eventName, handler) {\n      return (0, _get2[\"default\"])((0, _getPrototypeOf2[\"default\"])(Taggd.prototype), \"once\", this).call(this, eventName, handler);\n    }\n    /**\n     * Set taggd options\n     * @param {Object} options - The options to set\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      if (!ObjectIs.ofType(options, 'object') || Array.isArray(options)) {\n        throw new TypeError(TypeErrorMessage.getObjectMessage(options));\n      }\n\n      this.options = Object.assign(this.options, Taggd.DEFAULT_OPTIONS, options);\n      return this;\n    }\n    /**\n     * Add a single tag\n     * @param {Taggd.Tag} tag - The tag to add\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"addTag\",\n    value: function addTag(tag) {\n      var _this2 = this;\n\n      if (!ObjectIs.ofInstance(tag, Tag)) {\n        throw new TypeError(TypeErrorMessage.getTagMessage(tag));\n      }\n\n      var isCanceled = !this.emit('taggd.tag.add', this, tag);\n      var hideTimeout;\n      /**\n       * Test whether the event’s target is the button Element\n       * @param {Event} e - The event object\n       * @return {Boolean} Whether the event’s target is the button element\n       */\n\n      var isTargetButton = function isTargetButton(e) {\n        return e.target === tag.buttonElement;\n      };\n\n      var clearTimeout = function clearTimeout() {\n        if (hideTimeout) {\n          window.clearTimeout(hideTimeout);\n          hideTimeout = undefined;\n        }\n      };\n\n      if (!isCanceled) {\n        // Add events to show/hide tags\n        // If show and hide event are identical, set show/hide mode to toggle\n        if (this.options.show === this.options.hide) {\n          tag.buttonElement.addEventListener(this.options.show, function (e) {\n            if (!isTargetButton(e)) return;\n            clearTimeout();\n\n            if (tag.isHidden()) {\n              tag.show();\n            } else {\n              tag.hide();\n            }\n          });\n        } else {\n          tag.buttonElement.addEventListener(this.options.show, function (e) {\n            if (!isTargetButton(e)) return;\n            clearTimeout();\n            tag.show();\n          });\n          tag.buttonElement.addEventListener(this.options.hide, function (e) {\n            if (!isTargetButton(e)) return;\n            clearTimeout(); // If the use moves the mouse between the button and popup, a delay should give some time\n            // to do just that. This only applies to the mouseleave event.\n\n            if (_this2.options.hide === 'mouseleave') {\n              hideTimeout = window.setTimeout(function () {\n                return tag.hide();\n              }, _this2.options.hideDelay);\n            } else {\n              tag.hide();\n            }\n          }); // Force visibility if user interacts with the popup element\n\n          if (this.options.hide === 'mouseleave') {\n            tag.popupElement.addEventListener('mouseover', function () {\n              return clearTimeout();\n            });\n            tag.popupElement.addEventListener('mouseleave', function () {\n              return tag.hide();\n            });\n          }\n        }\n\n        tag.once('taggd.tag.delete', function () {\n          var tagIndex = _this2.tags.indexOf(tag);\n\n          if (tagIndex >= 0) {\n            _this2.deleteTag(tagIndex);\n          }\n        }); // Route all tag events through taggd instance\n\n        tag.onAnything(function (eventName) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n\n          _this2.emit.apply(_this2, [eventName, _this2].concat(args));\n        });\n        this.tags.push(tag);\n        this.wrapper.appendChild(tag.wrapperElement);\n        this.emit('taggd.tag.added', this, tag);\n      }\n\n      return this;\n    }\n    /**\n     * Get a single tag by index\n     * @param  {Number} index - The index of the desired tag\n     * @return {Taggd.Tag} The tag to get\n     */\n\n  }, {\n    key: \"getTag\",\n    value: function getTag(index) {\n      if (!Number.isInteger(index)) {\n        throw new TypeError(TypeErrorMessage.getIntegerMessage(index));\n      }\n\n      return this.tags[index];\n    }\n    /**\n     * Delete a single tag by index\n     * @param {Number} index - The index of the desired tag\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"deleteTag\",\n    value: function deleteTag(index) {\n      if (!Number.isInteger(index)) {\n        throw new TypeError(TypeErrorMessage.getIntegerMessage(index));\n      }\n\n      if (!this.tags[index]) {\n        throw new Error(\"Tag at index \".concat(index, \" does not exist.\"));\n      }\n\n      var tag = this.tags[index];\n      var isCanceled = !this.emit('taggd.tag.delete', this, tag);\n\n      if (!isCanceled) {\n        this.wrapper.removeChild(tag.wrapperElement);\n        this.tags.splice(index, 1);\n        this.emit('taggd.tag.deleted', this, tag);\n      }\n\n      return this;\n    }\n    /**\n     * Set all tags\n     * @param {Taggd.Tag[]} tags An array of tags\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"setTags\",\n    value: function setTags(tags) {\n      this.deleteTags();\n      this.addTags(tags);\n      return this;\n    }\n  }, {\n    key: \"importTags\",\n    value: function importTags(tagsData) {\n      var _this3 = this;\n\n      if (!Array.isArray(tagsData)) {\n        throw new TypeError(TypeErrorMessage.getArrayMessage(tagsData, 'object'));\n      }\n\n      tagsData.forEach(function (tag) {\n        return _this3.addTag(Taggd.Tag.createFromObject(tag));\n      });\n      return this;\n    }\n    /**\n     * Add multiple tags\n     * @param {Taggd.Tag[]} tags - An array of tags\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"addTags\",\n    value: function addTags(tags) {\n      var _this4 = this;\n\n      if (!Array.isArray(tags)) {\n        throw new TypeError(TypeErrorMessage.getArrayMessage(tags, 'Taggd.Tag'));\n      }\n\n      tags.forEach(function (tag) {\n        return _this4.addTag(tag);\n      });\n      return this;\n    }\n    /**\n     * Get all tags\n     * @return {Taggd.Tag[]} All tags of this Taggd instance\n     */\n\n  }, {\n    key: \"getTags\",\n    value: function getTags() {\n      return this.tags;\n    }\n    /**\n     * Remove all tags\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"deleteTags\",\n    value: function deleteTags() {\n      while (this.tags.length > 0) {\n        this.deleteTag(0);\n      }\n\n      return this;\n    }\n    /**\n     * Iterate and replace all tags\n     * @param {Function} callback - The callback to execute for all tags\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"map\",\n    value: function map(callback) {\n      if (!ObjectIs[\"function\"](callback)) {\n        throw new TypeError(TypeErrorMessage.getFunctionMessage(callback));\n      }\n\n      this.tags = this.tags.map(callback);\n      return this;\n    }\n    /**\n     * Clean up memory\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var isCanceled = !this.emit('taggd.destroy', this);\n\n      if (!isCanceled) {\n        this.deleteTags();\n      }\n\n      return this;\n    }\n    /**\n     * Enable editor mode\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"enableEditorMode\",\n    value: function enableEditorMode() {\n      var isCanceled = !this.emit('taggd.editor.enable', this);\n\n      if (!isCanceled) {\n        this.image.addEventListener('click', this.imageClickHandler);\n        this.getTags().forEach(function (tag) {\n          return tag.enableControls();\n        });\n      }\n\n      return this;\n    }\n    /**\n     * Disable editor mode\n     * @return {Taggd} Current Taggd instance\n     */\n\n  }, {\n    key: \"disableEditorMode\",\n    value: function disableEditorMode() {\n      var isCanceled = !this.emit('taggd.editor.disable', this);\n\n      if (!isCanceled) {\n        this.image.removeEventListener('click', this.imageClickHandler);\n        this.getTags().forEach(function (tag) {\n          return tag.disableControls();\n        });\n      }\n\n      return this;\n    }\n  }]);\n  return Taggd;\n}(EventEmitter);\n/**\n * Default options for all Taggd instances\n * @const\n * @type {Object}\n * @ignore\n */\n\n\nTaggd.DEFAULT_OPTIONS = {\n  show: 'mouseenter',\n  hide: 'mouseleave',\n  hideDelay: 500\n};\nmodule.exports = Taggd;\nmodule.exports.Tag = Tag;\nwindow.Taggd = module.exports;\n\n},{\"../util/event-emitter\":21,\"../util/object-is\":22,\"../util/type-error-message\":23,\"./Tag\":18,\"@babel/runtime/helpers/classCallCheck\":3,\"@babel/runtime/helpers/createClass\":4,\"@babel/runtime/helpers/get\":5,\"@babel/runtime/helpers/getPrototypeOf\":6,\"@babel/runtime/helpers/inherits\":7,\"@babel/runtime/helpers/interopRequireDefault\":8,\"@babel/runtime/helpers/possibleConstructorReturn\":11,\"offset\":16,\"scrolltop\":17}],20:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _Tag = _interopRequireDefault(require(\"./classes/Tag\"));\n\nvar _Taggd = _interopRequireDefault(require(\"./classes/Taggd\"));\n\n_Taggd[\"default\"].Tag = _Tag[\"default\"];\nmodule.exports = _Taggd[\"default\"];\n\n},{\"./classes/Tag\":18,\"./classes/Taggd\":19,\"@babel/runtime/helpers/interopRequireDefault\":8}],21:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar EVENT_WILDCARD = '*';\n\nvar EventEmitter =\n/*#__PURE__*/\nfunction () {\n  function EventEmitter() {\n    (0, _classCallCheck2[\"default\"])(this, EventEmitter);\n    this.handlers = {};\n  }\n\n  (0, _createClass2[\"default\"])(EventEmitter, [{\n    key: \"onAnything\",\n    value: function onAnything(handler) {\n      this.on(EVENT_WILDCARD, handler);\n    }\n  }, {\n    key: \"on\",\n    value: function on(eventName, handler) {\n      if (!this.handlers[eventName]) {\n        this.handlers[eventName] = [];\n      }\n\n      this.handlers[eventName].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(eventName, handler) {\n      if (!this.handlers[eventName]) return;\n      var handlerIndex = this.handlers[eventName].indexOf(handler);\n\n      if (handlerIndex >= 0) {\n        this.handlers[eventName].splice(handlerIndex, 1);\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(eventName, handler) {\n      var _this = this;\n\n      this.on(eventName, function () {\n        handler.apply(void 0, arguments);\n\n        _this.off(eventName, handler);\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(eventName) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var isCanceled = false;\n\n      if (this.handlers[EVENT_WILDCARD]) {\n        this.handlers[EVENT_WILDCARD].forEach(function (eventHandler) {\n          var returnValue = eventHandler.apply(void 0, [eventName].concat(args));\n          isCanceled = returnValue !== undefined && !returnValue || isCanceled;\n        });\n      }\n\n      if (this.handlers[eventName]) {\n        this.handlers[eventName].forEach(function (eventHandler) {\n          var returnValue = eventHandler.apply(void 0, args);\n          isCanceled = returnValue !== undefined && !returnValue || isCanceled;\n        });\n      }\n\n      return !isCanceled;\n    }\n  }]);\n  return EventEmitter;\n}();\n\nmodule.exports = EventEmitter;\n\n},{\"@babel/runtime/helpers/classCallCheck\":3,\"@babel/runtime/helpers/createClass\":4,\"@babel/runtime/helpers/interopRequireDefault\":8}],22:[function(require,module,exports){\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nmodule.exports = {\n  /**\n   * Check wheter an object is an instance of type\n   * @param {Object} object - The object to test\n   * @param {Object} type - The class to test\n   * @return {Boolean}\n   */\n  ofInstance: function ofInstance(object, type) {\n    return object instanceof type;\n  },\n\n  /**\n   * Check whether an object is equals to given type\n   * @param {Object} object - The object to test\n   * @param {String} type - The type to test\n   * @return {Boolean}\n   */\n  ofType: function ofType(object, type) {\n    return (0, _typeof2[\"default\"])(object) === type;\n  },\n  // eslint-disable-line valid-typeof\n\n  /**\n   * Check whether given object is a function\n   * @param {Object} object - The object to test\n   * @return {Boolean}\n   */\n  \"function\": function _function(object) {\n    return typeof object === 'function';\n  },\n\n  /**\n   * Check whether given object is a Number\n   * @param {Object} object - The object to test\n   * @return {Boolean}\n   */\n  number: function number(object) {\n    return !Number.isNaN(Number.parseFloat(object));\n  }\n};\n\n},{\"@babel/runtime/helpers/interopRequireDefault\":8,\"@babel/runtime/helpers/typeof\":15}],23:[function(require,module,exports){\n\"use strict\";\n\nvar TypeErrorMessage = {\n  /**\n   * Get the TypeError message\n   * @param {Object} object - The tested object\n   * @param {String} expectedType - A string describing the expected type\n   * @return {String} The error message\n   */\n  getMessage: function getMessage(object, expectedType) {\n    return \"\".concat(object, \" should be \").concat(expectedType);\n  },\n\n  /**\n   * Get the TypeError Array message\n   * @param {Object} object - The tested object\n   * @param {String} expectedType - The expected type of all array items\n   * @return {String} The error message\n   */\n  getArrayMessage: function getArrayMessage(object, expectedType) {\n    if (expectedType) {\n      return TypeErrorMessage.getTypeErrorMessage(object, \"an array of \".concat(expectedType));\n    }\n\n    return TypeErrorMessage.getTypeErrorMessage(object, 'an array');\n  },\n\n  /**\n   * Get the TypeError Function message\n   * @param {Object} object - The tested object\n   * @return {String} The error message\n   */\n  getFunctionMessage: function getFunctionMessage(object) {\n    return TypeErrorMessage.getTypeErrorMessage(object, 'a function');\n  },\n\n  /**\n   * Get the TypeError Integer message\n   * @param {Object} object - The tested object\n   * @return {String} The error message\n   */\n  getIntegerMessage: function getIntegerMessage(object) {\n    return TypeErrorMessage.getTypeErrorMessage(object, 'an integer');\n  },\n\n  /**\n   * Get the TypeError Float message\n   * @param {Object} object - The tested object\n   * @return {String} The error message\n   */\n  getFloatMessage: function getFloatMessage(object) {\n    return TypeErrorMessage.getTypeErrorMessage(object, 'a floating number');\n  },\n\n  /**\n   * Get the TypeError Object message\n   * @param {Object} object - The tested object\n   * @return {String} The error message\n   */\n  getObjectMessage: function getObjectMessage(object) {\n    return TypeErrorMessage.getTypeErrorMessage(object, 'an object');\n  },\n\n  /**\n   * Get the TypeError Taggd.Tag message\n   * @param {Object} object - The tested object\n   * @return {String} The error message\n   */\n  getTagMessage: function getTagMessage(object) {\n    return TypeErrorMessage.getTypeErrorMessage(object, 'a tag');\n  },\n\n  /**\n   * Get TypeError message\n   * @param {Object} object - The tested object\n   * @param {String} message - The type message\n   * @return {String} The error message\n   */\n  getTypeErrorMessage: function getTypeErrorMessage(object, message) {\n    return \"\".concat(object, \" is not a \").concat(message);\n  }\n};\nmodule.exports = TypeErrorMessage;\n\n},{}]},{},[20])(20)\n});\n"]}